document.addEventListener("DOMContentLoaded",function(){const a=document.querySelectorAll(".floating-toc .toc-link"),c=document.querySelectorAll("h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]"),u=document.getElementById("floating-toc"),r=document.getElementById("toc-handle");console.log("TOC Links:",a.length),console.log("Sections:",c.length);function i(){let e=window.scrollY;console.log("Scroll position:",e),c.forEach(t=>{t.offsetTop<=e+100&&(console.log("Current section:",t.id),a.forEach(e=>{e.getAttribute("href")==="#"+t.id?(console.log("Activating link:",e.getAttribute("href")),e.classList.add("active"),e.style.backgroundColor="yellow"):(e.classList.remove("active"),e.style.backgroundColor="")}))})}window.addEventListener("scroll",i),i();let n=!1,t,e,o,s,l=0,d=0;r.addEventListener("mousedown",h),document.addEventListener("mousemove",m),document.addEventListener("mouseup",f);function h(e){o=e.clientX-l,s=e.clientY-d,e.target===r&&(n=!0)}function m(i){n&&(i.preventDefault(),t=i.clientX-o,e=i.clientY-s,l=t,d=e,p(t,e,u))}function f(){o=t,s=e,n=!1}function p(e,t,n){n.style.transform=`translate3d(${e}px, ${t}px, 0)`}})