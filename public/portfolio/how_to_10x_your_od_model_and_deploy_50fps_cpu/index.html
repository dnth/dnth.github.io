<!DOCTYPE html>
<html>
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <title>Faster than GPU: How to 10x your Object Detection Model and Deploy on CPU at 50&#43; FPS</title>
  <meta name="description" content="Learn how to 10x your YOLOX model and run it faster than GPU in few simple steps!" />

  <meta property="og:url" content="http://localhost:1313/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/">
  <meta property="og:site_name" content="Dickson Neoh - Personal Portfolio">
  <meta property="og:title" content="Faster than GPU: How to 10x your Object Detection Model and Deploy on CPU at 50&#43; FPS">
  <meta property="og:description" content="Learn how to 10x your YOLOX model and run it faster than GPU in few simple steps!">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="portfolio">
    <meta property="article:published_time" content="2022-04-30T15:00:15+08:00">
    <meta property="article:modified_time" content="2022-04-30T15:00:15+08:00">
    <meta property="article:tag" content="OpenVINO">
    <meta property="article:tag" content="YOLOX">
    <meta property="article:tag" content="ONNX">
    <meta property="article:tag" content="CVAT">
    <meta property="article:tag" content="Real-Time">
    <meta property="article:tag" content="Optimization">
    <meta property="og:image" content="http://localhost:1313/images/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/post_image.png">

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/images/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/post_image.png">
  <meta name="twitter:title" content="Faster than GPU: How to 10x your Object Detection Model and Deploy on CPU at 50&#43; FPS">
  <meta name="twitter:description" content="Learn how to 10x your YOLOX model and run it faster than GPU in few simple steps!">


  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  <!-- Slick Carousel -->
  <link rel="stylesheet" href="http://localhost:1313/plugins/slick/slick.css" />
  <link rel="stylesheet" href="http://localhost:1313/plugins/slick/slick-theme.css" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="http://localhost:1313/plugins/font-awesome/css/font-awesome.min.css" />

  <!-- Magnific Popup -->
  <link rel="stylesheet" href="http://localhost:1313/plugins/magnafic-popup/magnific-popup.css" />

  <!-- Stylesheets -->
  
  <link href="http://localhost:1313/scss/style.min.css" rel="stylesheet" />

  <!--Favicon-->
  <link rel="shortcut icon" href="http://localhost:1313/images/favicon.ico" type="image/x-icon" />
  <link rel="icon" href="http://localhost:1313/images/favicon.gif" type="image/x-icon" />
  
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-54500366-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-54500366-2');
  </script>
  
</head>

<body>
  <nav class="navbar navbar-expand-lg fixed-top">
  <div class="container">
    <a href="http://localhost:1313/" class="navbar-brand">
      <img src="http://localhost:1313/images/site-navigation/logo_dn_resize.png" alt="site-logo">
    </a>
    <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#navbarCollapse">
      <span class="navbar-toggler-icon"></span>
      <span class="navbar-toggler-icon"></span>
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
      <ul class="nav navbar-nav main-navigation my-0 mx-auto">
        
        
        <li class="nav-item">
          <a href="http://localhost:1313/#home"
            class="nav-link text-dark text-sm-center p-2 ">Home</a>
        </li>
        
        <li class="nav-item">
          <a href="http://localhost:1313/#about"
            class="nav-link text-dark text-sm-center p-2 ">About</a>
        </li>
        
        <li class="nav-item">
          <a href="http://localhost:1313/#service"
            class="nav-link text-dark text-sm-center p-2 ">Services</a>
        </li>
        
        <li class="nav-item">
          <a href="http://localhost:1313/#portfolio"
            class="nav-link text-dark text-sm-center p-2 ">Projects</a>
        </li>
        
        <li class="nav-item">
          <a href="http://localhost:1313/#resume"
            class="nav-link text-dark text-sm-center p-2 ">Resume</a>
        </li>
        
        <li class="nav-item">
          <a href="http://localhost:1313/#skills"
            class="nav-link text-dark text-sm-center p-2 ">Skills</a>
        </li>
        
        <li class="nav-item">
          <a href="http://localhost:1313/#blog"
            class="nav-link text-dark text-sm-center p-2 ">Blogs</a>
        </li>
        
        <li class="nav-item">
          <a href="http://localhost:1313/#contact"
            class="nav-link text-dark text-sm-center p-2 ">Contact</a>
        </li>
        
      </ul>
      <div class="navbar-nav">
        <a href="http://localhost:1313/contact" class="btn btn-primary btn-zoom hire_button">Hire Me Now</a>
      </div>
       

    </div>
  </div>
</nav>
  <div id="content">
    

<header class="breadCrumb">
  <div class="container">
    <div class="row">
      <div class="col-lg-10 col-md-12 offset-lg-1 offset-md-0 text-center">
        <h3 class="breadCrumb__title">Faster than GPU: How to 10x your Object Detection Model and Deploy on CPU at 50&#43; FPS</h3>
        <nav aria-label="breadcrumb" class="d-flex justify-content-center">
          
        </nav>
      </div>
    </div>

    <div class="row p-3">
      <div class="col-lg-10 col-md-10 offset-lg-1 offset-md-0 text-center">
        <i class="fa fa-calendar"></i> &ensp;
        April 30, 2022 &ensp; &ensp;
        <i class="fa fa-clock-o"></i> &ensp;
        10 mins read
      </div>
      
        <div class="col-lg-10 col-md-12 offset-lg-1 offset-md-0 text-center">
          <i class="fa fa-tag"></i> &ensp;
          
            <a href="http://localhost:1313/tags/openvino/">OpenVINO</a> 
            
              <span class="separator">•</span>
            
          
            <a href="http://localhost:1313/tags/yolox/">YOLOX</a> 
            
              <span class="separator">•</span>
            
          
            <a href="http://localhost:1313/tags/onnx/">ONNX</a> 
            
              <span class="separator">•</span>
            
          
            <a href="http://localhost:1313/tags/cvat/">CVAT</a> 
            
              <span class="separator">•</span>
            
          
            <a href="http://localhost:1313/tags/real-time/">Real-Time</a> 
            
              <span class="separator">•</span>
            
          
            <a href="http://localhost:1313/tags/optimization/">Optimization</a> 
            
              <span class="separator">•</span>
            
          
            <a href="http://localhost:1313/tags/license-plate/">License-Plate</a> 
            
          
        </div>
      
      
        <div class="col-lg-10 col-md-12 offset-lg-1 offset-md-0 text-center">
          <i class="fa fa-folder"></i> &ensp;
          
            <a href="http://localhost:1313/categories/deployment/">Deployment</a>
            
              <span class="separator">•</span>
            
          
            <a href="http://localhost:1313/categories/object-detection/">Object-Detection</a>
            
              <span class="separator">•</span>
            
          
            <a href="http://localhost:1313/categories/modeling/">Modeling</a>
            
          
        </div>
      
    </div>
  </div>
</header>

<section class="section singleBlog">
  <div class="svg-img">
    <img src=http://localhost:1313/images/hero/figure-svg.svg alt="">
  </div>
  <div class="animate-shape">
    <img src=http://localhost:1313/images/skill/skill-background-shape.svg alt="">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 600 600">
      <defs>
        <linearGradient id="d" x1="0.929" y1="0.111" x2="0.263" y2="0.935" gradientUnits="objectBoundingBox">
          <stop offset="0" stop-color="#f1f6f9" />
          <stop offset="1" stop-color="#f1f6f9" stop-opacity="0" />
        </linearGradient>
      </defs>
      <g data-name="blob-shape (3)">
        <path class="blob" fill="url(#d)"
          d="M455.4 151.1c43.1 36.7 73.4 92.8 60.8 136.3-12.7 43.5-68.1 74.4-111.3 119.4-43.1 45-74 104.1-109.8 109-35.9 5-76.7-44.2-111.8-89.2-35.2-45-64.7-85.8-70.8-132.6-6-46.8 11.6-99.6 46.7-136.3 35.2-36.6 88-57.2 142.4-58.8 54.5-1.7 110.6 15.6 153.8 52.2z" />
      </g>
    </svg>
  </div>
  <div class="animate-pattern">
    <img src=http://localhost:1313/images/service/background-pattern.svg alt="background-shape">
  </div>
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="singleBlog__feature">
          <img src=http://localhost:1313/images/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/post_image.png alt="feature-image">
        </div>
      </div>
    </div>
    <div class="row mt-5">
      <div class="col-lg-12">
        <div class="singleBlog__content">
          
            <h3>Table of Contents</h3>
            <nav id="TableOfContents">
  <ul>
        <li><a class="toc-link" href="#-motivation">🚦 Motivation</a></li>
        <li><a class="toc-link" href="#-modeling-with-yolox">⛷ Modeling with YOLOX</a></li>
        <li><a class="toc-link" href="#-onnx-runtime">🤖 ONNX Runtime</a></li>
        <li><a class="toc-link" href="#-openvino-intermediate-representation">🔗 OpenVINO Intermediate Representation</a></li>
        <li><a class="toc-link" href="#-post-training-quantization">🛠 Post-Training Quantization</a></li>
        <li><a class="toc-link" href="#-real-time-inference-50-fps">🚀 Real-time Inference @50+ FPS</a></li>
        <li><a class="toc-link" href="#-conclusion">🏁 Conclusion</a></li>
        <li><a class="toc-link" href="#-comments--feedback">🙏 Comments &amp; Feedback</a></li>
      </ul>
</nav>
            <div class="floating-toc">
              <h3>Table of Contents</h3>
              <nav id="TableOfContents">
  <ul>
        <li><a class="toc-link" href="#-motivation">🚦 Motivation</a></li>
        <li><a class="toc-link" href="#-modeling-with-yolox">⛷ Modeling with YOLOX</a></li>
        <li><a class="toc-link" href="#-onnx-runtime">🤖 ONNX Runtime</a></li>
        <li><a class="toc-link" href="#-openvino-intermediate-representation">🔗 OpenVINO Intermediate Representation</a></li>
        <li><a class="toc-link" href="#-post-training-quantization">🛠 Post-Training Quantization</a></li>
        <li><a class="toc-link" href="#-real-time-inference-50-fps">🚀 Real-time Inference @50+ FPS</a></li>
        <li><a class="toc-link" href="#-conclusion">🏁 Conclusion</a></li>
        <li><a class="toc-link" href="#-comments--feedback">🙏 Comments &amp; Feedback</a></li>
      </ul>
</nav>
            </div>
          
          <hr>
          <h3 id="-motivation">🚦 Motivation</h3>
<style type="text/css">
    .notice{padding:18px;line-height:24px;margin-bottom:24px;border-radius:4px;color:#6c757d;background:#e7f2fa}.notice
    p:last-child{margin-bottom:0}.notice-title{margin:-18px -18px 12px;padding:4px 18px;border-radius:4px 4px 0
    0;font-weight:700;color:#fff;background:#6ab0de; text-transform:uppercase}.notice.warning
    .notice-title{background:rgba(217,83,79,.9)}.notice.warning{background:#fae2e2}.notice.info
    .notice-title{background:#f0b37e;}.notice.info{background:#fff2db}.notice.note
    .notice-title{background:#6ab0de}.notice.note{background:#e7f2fA}.notice.tip
    .notice-title{background:rgba(92,184,92,.8)}.notice.tip{background:#e6f9e6}.icon-notice{display:inline-flex;align-self:center;margin-right:8px}.icon-notice
    img,.icon-notice svg{height:1em;width:1em;fill:currentColor}.icon-notice img,.icon-notice.baseline
    svg{top:0.125em;position:relative}</style>
    <div><svg width="0" height="0" display="none" xmlns="http://www.w3.org/2000/svg">
            <symbol id="tip-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet">
                <path
                    d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z" />
            </symbol>
            <symbol id="note-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet">
                <path
                    d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z" />
            </symbol>
            <symbol id="warning-notice" viewBox="0 0 576 512" preserveAspectRatio="xMidYMid meet">
                <path
                    d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z" />
            </symbol>
            <symbol id="info-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet">
                <path
                    d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z" />
            </symbol>
        </svg></div><div class="notice tip" >
        <p class="first notice-title"><span class="icon-notice baseline"><svg>
                    <use href="#tip-notice"></use>
                </svg></span>tip</p><p>By the end of this post, you will learn how to:</p>
<ul>
<li>Train state-of-the-art YOLOX model with your own data.</li>
<li>Convert the YOLOX PyTorch model into ONNX and OpenVINO IR format.</li>
<li>Run quantization algorithm to 10x your model&rsquo;s inference speed.</li>
</ul>
<p><strong>P/S</strong>: The final model runs faster on the CPU than the GPU! 😱</p></div>
<p>Deep learning (DL), seems to be the magic word that makes anything mundane cool again.
We find them everywhere - in news reports, blog posts, articles, research papers, advertisements, and even <a href="https://www.amazon.com/Neural-Networks-Babies-Baby-University/dp/1492671207" target="_blank" rel="nofollow noopener noreferrer">baby books</a>.</p>
<p>Except in production 🤷‍♂️.</p>
<p>As much as we were made to believe DL is the answer to our problems, more than 85% of models don&rsquo;t make it into production - according to a recent survey by <a href="https://www.gartner.com/en/newsroom/press-releases/2018-02-13-gartner-says-nearly-half-of-cios-are-planning-to-deploy-artificial-intelligence" target="_blank" rel="nofollow noopener noreferrer">Gartner</a>.</p>
<p>The barrier? <em>Deployment</em>.</p>
<p>For some applications such as self-driving car, real-time deployment is critical and has huge implications.</p>
<p>As data scientists, even though we can easily train our models on GPUs, it is uncommon and sometimes impractical to deploy them on GPUs in production.
On the other hand, CPUs are far more common in production environment, and a lot cheaper.</p>
<p>But can we feasibly deploy real-time DL models on a CPU?
Running DL models on a CPU is orders of magnitude slower compared to GPU, right?</p>
<p><strong>Wrong</strong>.</p>
<p>In this post, I will walk you through how we go from this 🐌🐌🐌</p>
<video controls preload="auto" width="700px"  autoplay loop muted playsinline class="html-video">
    <source src="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/yolox_cpu.mp4" type="video/mp4">
  <span></span>
</video>
<p>to this 🚀🚀🚀
<video controls preload="auto" width="700px"  autoplay loop muted playsinline class="html-video">
    <source src="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/int8.mp4" type="video/mp4">
  <span></span>
</video></p>
<p>Yes, that&rsquo;s right, we can run DL models on a <strong>CPU at 50+ FPS</strong> 😱 and I&rsquo;m going to show you how in this post.
If that looks interesting, let&rsquo;s dive in.</p>
<h3 id="-modeling-with-yolox">⛷ Modeling with YOLOX</h3>





<figure>
    
    <a href="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/yolox_demo.png" class="image-popup">
        <img src="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/yolox_demo.png" 
             srcset="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/yolox_demo_hu17793477013906640040.png 360w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/yolox_demo_hu16021798009657070834.png 720w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/yolox_demo_hu6215005643840109793.png 1920w" 
             sizes="(max-width: ) 100vw, "
             
             
             
             style="max-width: 100%; height: auto;"/>
    </a>
    
</figure>


<p>We will use a state-of-the-art <a href="https://github.com/Megvii-BaseDetection/YOLOX" target="_blank" rel="nofollow noopener noreferrer">YOLOX</a> model to detect the license plate of vehicles around the neighborhood.
YOLOX is one of the most recent YOLO series models that is both lightweight and accurate.</p>
<p>It claims better performance than <a href="https://github.com/Tianxiaomo/pytorch-YOLOv4" target="_blank" rel="nofollow noopener noreferrer">YOLOv4</a>, <a href="https://github.com/ultralytics/yolov5" target="_blank" rel="nofollow noopener noreferrer">YOLOv5</a>, and <a href="https://github.com/zylo117/Yet-Another-EfficientDet-Pytorch" target="_blank" rel="nofollow noopener noreferrer">EfficientDet</a> models.
Additionally, YOLOX is an anchor-free, one-stage detector which makes it faster than its counterparts.</p>
<p>Before we start training, let&rsquo;s collect images of the license plates and annotate them.
I collected about 40 images in total.
30 of the images will be used as the training set and 10 as the validation set.</p>
<div class="notice tip" >
        <p class="first notice-title"><span class="icon-notice baseline"><svg>
                    <use href="#tip-notice"></use>
                </svg></span>tip</p><p>This is an incredibly small sample size for any DL model, but I found that it works reasonably well for our task at hand.
We likely need more images to make this model more robust. However, this is still a good starting point. </p></div>





<figure>
    
    <a href="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/sample_imgs.png" class="image-popup">
        <img src="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/sample_imgs.png" 
             srcset="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/sample_imgs_hu10224547631475657576.png 360w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/sample_imgs_hu5240383684287923206.png 720w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/sample_imgs_hu8652465552516786757.png 1920w" 
             sizes="(max-width: ) 100vw, "
             alt="Sample images of vehicle license plates." 
             
             
             style="max-width: 100%; height: auto;"/>
    </a>
    
    <figcaption style="font-size: 0.8em;">
        <p>
        Sample images of vehicle license plates.
        
            
        
        </p> 
    </figcaption>
    
</figure>


<p>To label the images, let&rsquo;s use the open-source <a href="https://github.com/openvinotoolkit/cvat" target="_blank" rel="nofollow noopener noreferrer">CVAT</a> labeling tool by Intel.
There are a ton of other labeling tools out there feel free to use them if you are comfortable.</p>
<p>If you&rsquo;d like to try CVAT, head to <a href="https://cvat.org/" target="_blank" rel="nofollow noopener noreferrer">https://cvat.org/</a> - create an account and log in.
No installation is needed.</p>
<p>A top menu bar should be visible as shown below.
Click on <em>Task</em>, fill in the name of the task, add related labels, and upload the images.





<figure>
    
    <a href="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/cvat_new.png" class="image-popup">
        <img src="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/cvat_new.png" 
             srcset="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/cvat_new_hu4159074195844117771.png 360w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/cvat_new_hu13821513771144504026.png 720w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/cvat_new_hu5887508915205306459.png 1920w" 
             sizes="(max-width: ) 100vw, "
             
             
             
             style="max-width: 100%; height: auto;"/>
    </a>
    
</figure>

</p>
<p>Since we are only interested in labeling the license plate, I&rsquo;ve entered only one label - <code>LP</code> (license plate).
Once the uploading completes, you will see a summary page as below.
Click on <code>Job #368378</code> at ③ and it should bring you to the labeling page.





<figure>
    
    <a href="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/task_description.png" class="image-popup">
        <img src="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/task_description.png" 
             srcset="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/task_description_hu3529238789123892140.png 360w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/task_description_hu967519196586451930.png 720w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/task_description_hu10823605581634701241.png 1920w" 
             sizes="(max-width: ) 100vw, "
             
             
             
             style="max-width: 100%; height: auto;"/>
    </a>
    
</figure>

</p>
<p>To start labeling, click on the square icon at ① and click Shape at ② in the figure below.





<figure>
    
    <a href="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/draw_box.png" class="image-popup">
        <img src="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/draw_box.png" 
             srcset="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/draw_box_hu7460706233190493757.png 360w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/draw_box_hu17972484679097846718.png 720w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/draw_box_hu3278781387980461748.png 1920w" 
             sizes="(max-width: ) 100vw, "
             
             
             
             style="max-width: 100%; height: auto;"/>
    </a>
    
</figure>

</p>
<p>You can then start drawing bounding boxes around the license plate. Do this for all 40 images.





<figure>
    
    <a href="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/show_bbox.png" class="image-popup">
        <img src="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/show_bbox.png" 
             srcset="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/show_bbox_hu11854593724090901324.png 360w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/show_bbox_hu2367887591712568014.png 720w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/show_bbox_hu6991874936099976867.png 1920w" 
             sizes="(max-width: ) 100vw, "
             
             
             
             style="max-width: 100%; height: auto;"/>
    </a>
    
</figure>

</p>
<p>Once done, we are ready to export the annotations on the <em>Tasks</em> page.





<figure>
    
    <a href="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/export.png" class="image-popup">
        <img src="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/export.png" 
             srcset="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/export_hu11776091766337538661.png 360w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/export_hu8291459357923661009.png 720w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/export_hu5271046238885155619.png 1920w" 
             sizes="(max-width: ) 100vw, "
             
             
             
             style="max-width: 100%; height: auto;"/>
    </a>
    
</figure>

</p>
<p>Make sure the format is <em>COCO 1.0</em> and click on OK. If you&rsquo;d like to download the images check the Save images box. Since I have those images already, I don&rsquo;t have to download them.





<figure>
    
    <a href="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/coco.png" class="image-popup">
        <img src="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/coco.png" 
             srcset="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/coco_hu17304317869366219812.png 360w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/coco_hu7374371579447182867.png 720w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/coco_hu15863937942365751357.png 1920w" 
             sizes="(max-width: ) 100vw, "
             
             
             
             style="max-width: 100%; height: auto;"/>
    </a>
    
</figure>

</p>
<p>Now, that we have our dataset ready, let&rsquo;s begin training.
If you haven&rsquo;t already, install the YOLOX package by following the instructions <a href="https://github.com/Megvii-BaseDetection/YOLOX" target="_blank" rel="nofollow noopener noreferrer">here</a>.</p>
<p>Place your images and annotations in the <code>datasets</code> folder following the structure outlined <a href="https://github.com/Megvii-BaseDetection/YOLOX/tree/main/datasets" target="_blank" rel="nofollow noopener noreferrer">here</a>.</p>
<p>Next, we must prepare a custom <code>Exp</code> class.
The <code>Exp</code> class is a <code>.py</code> file where we configure everything about the model - dataset location, data augmentation, model architecture, and other training hyperparameters.
More info on the <code>Exp</code> class <a href="https://github.com/Megvii-BaseDetection/YOLOX/blob/main/docs/train_custom_data.md" target="_blank" rel="nofollow noopener noreferrer">here</a>.</p>
<p>For simplicity let&rsquo;s use one of the smaller models - <code>YOLOX-s</code>.</p>
<p>There are other YOLOX models you can try like <code>YOLOX-m</code>, <code>YOLOX-l</code>, <code>YOLOX-x</code>, <code>YOLOX-Nano</code>, <code>YOLOX-Tiny</code>, etc.
Feel free to experiment with them.
More details are on the <a href="https://github.com/Megvii-BaseDetection/YOLOX/blob/main/README.md" target="_blank" rel="nofollow noopener noreferrer">README</a> of the YOLOX repo.</p>
<p>My custom <code>Exp</code> class for the <code>YOLOX-s</code> model looks like the following</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> yolox.exp <span style="color:#f92672">import</span> Exp <span style="color:#66d9ef">as</span> MyExp
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Exp</span>(MyExp):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>        super(Exp, self)<span style="color:#f92672">.</span>__init__()
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>depth <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.33</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>width <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.50</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>exp_name <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>split(os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>realpath(__file__))[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;.&#34;</span>)[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Define yourself dataset path</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>data_dir <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;data&#34;</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>train_ann <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;train.json&#34;</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>val_ann <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;val.json&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>num_classes <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>data_num_workers <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>eval_interval <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># --------------- transform config ----------------- #</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>degrees <span style="color:#f92672">=</span> <span style="color:#ae81ff">10.0</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>translate <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.1</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>scale <span style="color:#f92672">=</span> (<span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>mosaic_scale <span style="color:#f92672">=</span> (<span style="color:#ae81ff">0.8</span>, <span style="color:#ae81ff">1.6</span>)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>shear <span style="color:#f92672">=</span> <span style="color:#ae81ff">2.0</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>perspective <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.0</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>enable_mixup <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># --------------  training config --------------------- #</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>warmup_epochs <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>max_epoch <span style="color:#f92672">=</span> <span style="color:#ae81ff">300</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>warmup_lr <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>basic_lr_per_img <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.01</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">64.0</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>scheduler <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;yoloxwarmcos&#34;</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>no_aug_epochs <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>min_lr_ratio <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.05</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>ema <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>weight_decay <span style="color:#f92672">=</span> <span style="color:#ae81ff">5e-4</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>momentum <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.9</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>We are now ready to start training.
The training script is provided in the <code>tools</code> folder. To start training, run</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python tools/train.py -f exps/example/custom/yolox_s.py -d <span style="color:#ae81ff">1</span> -b <span style="color:#ae81ff">64</span> --fp16 -o -c /path/to/yolox_s.pth
</span></span></code></pre></div><div class="notice note" >
        <p class="first notice-title"><span class="icon-notice baseline"><svg>
                    <use href="#note-notice"></use>
                </svg></span>note</p><ul>
<li>
<p><code>-f</code> specifies the location of the custom <code>Exp</code> file.</p>
</li>
<li>
<p><code>-d</code> specifies the number of GPUs available on your machine.</p>
</li>
<li>
<p><code>-b</code> specifies the batch size.</p>
</li>
<li>
<p><code>-c</code> specifies the path to save your checkpoint.</p>
</li>
<li>
<p><code>--fp16</code> tells the model to train in mixed precision mode.</p>
</li>
<li>
<p><code>-o</code> specifies the option to occupy GPU memory first for training.</p>
</li>
</ul></div>
<p>After the training completes, you can run inference on the model by utilizing the <code>demo.py</code> script in the same folder. Run</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python tools/demo.py video -f exps/example/custom/yolox_s.py -c /path/to/your/yolox_s.pth --path /path/to/your/video --conf 0.25 --nms 0.45 --tsize <span style="color:#ae81ff">640</span> --device gpu
</span></span></code></pre></div><div class="notice note" >
        <p class="first notice-title"><span class="icon-notice baseline"><svg>
                    <use href="#note-notice"></use>
                </svg></span>note</p><ul>
<li>
<p><code>-f</code> specifies the path to the custom <code>Exp</code> file.</p>
</li>
<li>
<p><code>-c</code> specifies the path to your saved checkpoint.</p>
</li>
<li>
<p><code>--path</code> specifies the path to the video you want to infer on.</p>
</li>
<li>
<p><code>--conf</code> specifies the confidence threshold of the detection.</p>
</li>
<li>
<p><code>--nms</code> specifies the non-maximum suppression threshold.</p>
</li>
<li>
<p><code>--tsize</code> specifies the test image size.</p>
</li>
<li>
<p><code>--device</code> specifies the device to run the model on - <code>cpu</code> or <code>gpu</code>.</p>
</li>
</ul></div>
<p>I&rsquo;m running this on a computer with an RTX3090 GPU. The output looks like the following.
<video controls preload="auto" width="700px"  loop muted playsinline class="html-video">
    <source src="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/yolox_gpu.mp4" type="video/mp4">
  <span></span>
</video></p>
<p>Out of the box, the model averaged 40+ FPS on an RTX3090 GPU.
But, on a Core i9-11900 CPU (a relatively powerful CPU to date) it averaged at 5+ FPS - not good for a real-time detection task.</p>
<video controls preload="auto" width="700px"  loop muted playsinline class="html-video">
    <source src="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/yolox_cpu.mp4" type="video/mp4">
  <span></span>
</video>
<p>Let&rsquo;s improve that by optimizing the model.</p>
<h3 id="-onnx-runtime">🤖 ONNX Runtime</h3>
<p>




<figure>
    
    <a href="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/onnx_runtime.png" class="image-popup">
        <img src="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/onnx_runtime.png" 
             srcset="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/onnx_runtime_hu2777793128871008957.png 360w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/onnx_runtime_hu11165731502053481625.png 720w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/onnx_runtime_hu14977584735068848884.png 1920w" 
             sizes="(max-width: ) 100vw, "
             
             
             
             style="max-width: 100%; height: auto;"/>
    </a>
    
</figure>


<a href="https://onnx.ai/" target="_blank" rel="nofollow noopener noreferrer">ONNX</a> is an open format built to represent machine learning models.
The goal of ONNX is to ensure interoperability among machine learning models via commonly accepted standards.
This allows developers to flexibly move between frameworks such as PyTorch or Tensorflow with less compatibility issues.</p>
<p>ONNX supports a cross-platform model accelerator known as the ONNX Runtime.
This improves the inference performance of a wide variety of models capable of running on various operating systems.</p>
<p>Let&rsquo;s convert our trained <code>YOLOX-s</code> model into the ONNX format.
For that, you must install the <code>onnxruntime</code> package via <code>pip</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip install onnxruntime
</span></span></code></pre></div><p>To convert our model run</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python tools/export_onnx.py --output-name your_yolox.onnx -f exps/your_dir/your_yolox.py -c your_yolox.pth
</span></span></code></pre></div><p>Let&rsquo;s load the ONNX model and run the inference using the ONNX Runtime.</p>
<video controls preload="auto" width="700px"  loop muted playsinline class="html-video">
    <source src="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/onnx.mp4" type="video/mp4">
  <span></span>
</video>
<p>As shown, the FPS slightly improved from 5+ FPS to about 10+ FPS with the ONNX model and Runtime on CPU - still not ideal for real-time inference.
Just by converting the model to ONNX, we already 2x the inference performance.</p>
<p>Let&rsquo;s see if we can improve that further.</p>
<h3 id="-openvino-intermediate-representation">🔗 OpenVINO Intermediate Representation</h3>





<figure>
    
    <a href="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/openvino_logo.png" class="image-popup">
        <img src="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/openvino_logo.png" 
             srcset="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/openvino_logo_hu4334327567887952640.png 360w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/openvino_logo_hu11847711319807463101.png 720w, /portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/openvino_logo_hu3562140765987115264.png 1920w" 
             sizes="(max-width: ) 100vw, "
             
             
             
             style="max-width: 100%; height: auto;"/>
    </a>
    
</figure>


<p>OpenVINO is a toolkit to optimize DL models.
It enables a model to be optimized once and deployed on any supported Intel hardware including CPU, GPU, VPU, and FPGAs.</p>
<p>To optimize a model, we will use a tool known as <a href="https://docs.openvino.ai/latest/openvino_docs_MO_DG_Deep_Learning_Model_Optimizer_DevGuide.html" target="_blank" rel="nofollow noopener noreferrer">Model Optimizer</a> (MO) by Intel.
MO converts all floating-point weights of the original model to FP16 data type.</p>
<p>The resulting form is known as the OpenVINO Intermediate Representation (IR) or called the compressed FP16 model.
The compressed FP16 model takes half the disk space compared to the original model and may have some negligible accuracy drop.</p>
<p>Let&rsquo;s convert our model into the IR form.
For that, we need to install the <code>openvino-dev</code> package.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip install openvino-dev<span style="color:#f92672">[</span>onnx<span style="color:#f92672">]==</span>2022.1.0
</span></span></code></pre></div><p>Once installed, we can invoke the <code>mo</code> command to convert the model. <code>mo</code> is the abbreviation of</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mo --input_model models/ONNX/yolox_s_lp.onnx --input_shape <span style="color:#f92672">[</span>1,3,640,640<span style="color:#f92672">]</span> --data_type FP16 --output_dir models/IR/
</span></span></code></pre></div><div class="notice note" >
        <p class="first notice-title"><span class="icon-notice baseline"><svg>
                    <use href="#note-notice"></use>
                </svg></span>note</p><p>The <code>mo</code> accepts a few parameters:</p>
<ul>
<li>
<p><code>--input_model</code> specifies the path to the previously converted ONNX model.</p>
</li>
<li>
<p><code>--input_shape</code> specifies the shape of the input image.</p>
</li>
<li>
<p><code>--data_type</code> specifies the data type.</p>
</li>
<li>
<p><code>--output_dir</code> specifies the directory to save the IR.</p>
</li>
</ul></div>
<p>This results in a set of IR files that consists of an <code>.xml</code> and <code>.bin</code> file.</p>
<ul>
<li>
<p><code>.xml</code> - Describes the model architecture</p>
</li>
<li>
<p><code>.bin</code> - Contains the weights and biases of the model.</p>
</li>
</ul>
<p>Together, you can deploy them on any of the supported Intel hardware.</p>
<p>Now, let&rsquo;s run an inference using the IR files on the same video and observe its performance.
<video controls preload="auto" width="700px"  loop muted playsinline class="html-video">
    <source src="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/fp16.mp4" type="video/mp4">
  <span></span>
</video></p>
<p>As you can see the FPS bumped up to 16+ FPS.
It&rsquo;s now beginning to look more feasible for real-time detection.
Let&rsquo;s call it a day and celebrate the success of our model! 🥳</p>
<p>Or, is there more to it? Enter 👇👇👇</p>
<h3 id="-post-training-quantization">🛠 Post-Training Quantization</h3>
<p>Apart from the Model Optimizer, OpenVINO also comes with a Post-training Optimization Toolkit (POT) designed to supercharge the inference of DL models without retraining or finetuning.</p>
<p>To achieve that, POT runs 8-bit quantization algorithms and optimizes the model to use integer tensors instead of floating-point tensors on some operations.
This results in a <strong>2-4x faster and smaller model</strong>.</p>
<p>This is where the real magic happens.</p>
<p>From the OpenVINO documentation <a href="https://docs.openvino.ai/2021.1/pot_compression_algorithms_quantization_README.html" target="_blank" rel="nofollow noopener noreferrer">page</a>, the POT supports two types of quantization:</p>
<ul>
<li>
<p><code>DefaultQuantization</code> is a default method that provides fast and in most cases accurate results for 8-bit quantization.</p>
</li>
<li>
<p><code>AccuracyAwareQuantization</code> enables remaining at a predefined range of accuracy drop after quantization at the cost of performance improvement. It may require more time for quantization.</p>
</li>
</ul>
<p>The quantization algorithm requires a representative subset of the dataset to estimate the model accuracy during the quantization process.
Let&rsquo;s prepare a few images and put them in a separate directory.</p>
<p>We are going to use the <code>DefaultQuantization</code> in this post.
For that, let&rsquo;s run</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pot -q default -m models/IR/yolox_s_lp.xml -w models/IR/yolox_s_lp.bin --engine simplified --data-source data/pot_images --output-dir models/INT8
</span></span></code></pre></div><div class="notice note" >
        <p class="first notice-title"><span class="icon-notice baseline"><svg>
                    <use href="#note-notice"></use>
                </svg></span>note</p><p>The <code>pot</code> command accepts a few parameters:</p>
<ul>
<li><code>-m</code> specifies the directory to the <code>.xml</code> file.</li>
<li><code>-w</code> specifies the directory to the <code>.bin</code> file.</li>
<li><code>--engine</code> specifies the type of quantization algorithm.</li>
<li><code>--data-source</code> specifies the directory of the images used to quantize the model.</li>
<li><code>--output-dir</code> specifies the directory to save the quantized model.</li>
</ul></div>
<p>This results in another set of IR files saved in <code>--output-dir</code>.</p>
<h3 id="-real-time-inference-50-fps">🚀 Real-time Inference @50+ FPS</h3>
<p>Now, the moment of truth.
Let&rsquo;s load the quantized model and run the same inference again.</p>
<video controls preload="auto" width="700px"  loop muted playsinline class="html-video">
    <source src="/portfolio/how_to_10x_your_od_model_and_deploy_50fps_cpu/int8.mp4" type="video/mp4">
  <span></span>
</video>
<p>Boom!</p>
<p>The first time I saw the numbers, I could hardly believe my eyes. 50+ FPS on a CPU!
That&rsquo;s about 10x faster 🚀 compared to our initial model!
Plus, this is also faster than the RTX3090 GPU!</p>
<p>Mind = blown 🤯</p>
<h3 id="-conclusion">🏁 Conclusion</h3>
<div class="notice tip" >
        <p class="first notice-title"><span class="icon-notice baseline"><svg>
                    <use href="#tip-notice"></use>
                </svg></span>tip</p><p>In this post you&rsquo;ve learned how to:</p>
<ul>
<li>Train a custom YOLOX model with your own dataset.</li>
<li>Convert the trained model into ONNX and IR forms for inference.</li>
<li>10x the inference speed of the model with 8-bit quantization.</li>
</ul></div>
<p>So, what&rsquo;s next? To squeeze even more out of the model I recommend:</p>
<ul>
<li>Experiment with smaller YOLOX models like YOLOX-Nano or YOLOX-Tiny.</li>
<li>Try using a smaller input resolution such as <code>416x416</code>. We&rsquo;ve used <code>640x640</code> in this post.</li>
<li>Try using the <code>AccuracyAwareQuantization</code> which runs quantization on the model with lesser accuracy loss.</li>
</ul>
<p>There&rsquo;s also a best practice guide to quantize your model with OpenVINO <a href="https://docs.openvino.ai/latest/pot_docs_BestPractices.html" target="_blank" rel="nofollow noopener noreferrer">here</a>.</p>
<h3 id="-comments--feedback">🙏 Comments &amp; Feedback</h3>
<p>I hope you&rsquo;ve learned a thing or two from this blog post.
If you have any questions, comments, or feedback, please leave them on the following Twitter/LinkedIn post or <a href="https://dicksonneoh.com/contact/" target="_blank" rel="nofollow noopener noreferrer">drop me a message</a>.
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Deploying object detection models on a CPU is a PAIN.<br><br>In this thread I will show you how I optimized and 10x my YOLOX model from 5 FPS to 50 FPS on a CPU. <br><br>Yes!! CPU!<br><br>And yes for FREE.<br><br>The optimized model runs FASTER on a CPU than GPU 🤯 <a href="https://t.co/nlzjO8wmVV">https://t.co/nlzjO8wmVV</a><br><br>A thread 👇</p>&mdash; Dickson Neoh 🚀 (@dicksonneoh7) <a href="https://twitter.com/dicksonneoh7/status/1521342853640728576?ref_src=twsrc%5Etfw">May 3, 2022</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

</p>
<iframe src="https://www.linkedin.com/embed/feed/update/urn:li:share:6927274887661166592" height="948" width="550" frameborder="0" allowfullscreen="" title="Embedded post"></iframe>

          





<section class="social-share">

    <ul class="share-icons">
        <hr>

        <h5>🤟 Follow me</h5>

        <p>
            Don't want to miss any of my future content? Follow me on Twitter and LinkedIn where I share these tips in
            bite-size posts.
        </p>

        
        <li>
            <a href="https://twitter.com/dicksonneoh7" target="_blank" rel="noopener" aria-label="Follow on Twitter"
                class="share-btn x">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
  <path fill="#ffffff" d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
</svg>&nbsp;
                Twitter
            </a>
        </li>
        &nbsp;

        <li>
            <a href="https://www.linkedin.com/in/dickson-neoh/" target="_blank" rel="noopener"
                aria-label="Follow on LinkedIn" class="share-btn linkedin">
                <svg
   width="6.3499999mm"
   height="6.3499999mm"
   viewBox="0 0 6.3499999 6.3499999"
   version="1.1"
   id="svg5"
   inkscape:version="1.1.2 (b8e25be833, 2022-02-05)"
   sodipodi:docname="linkedin_white.svg"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview7"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:document-units="mm"
     showgrid="false"
     inkscape:zoom="5.701459"
     inkscape:cx="-6.2264764"
     inkscape:cy="40.603642"
     inkscape:window-width="1920"
     inkscape:window-height="972"
     inkscape:window-x="1920"
     inkscape:window-y="1107"
     inkscape:window-maximized="1"
     inkscape:current-layer="layer1" />
  <defs
     id="defs2" />
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-129.66672,-101.87176)">
    <path
       d="m 129.66672,102.59335 v 4.90682 c 0,0.39507 0.32652,0.72159 0.72159,0.72159 h 4.90682 c 0.39507,0 0.72159,-0.32652 0.72159,-0.72159 v -4.90682 c 0,-0.39507 -0.32652,-0.72159 -0.72159,-0.72159 h -4.90682 c -0.39507,0 -0.72159,0.32652 -0.72159,0.72159 z m 5.62841,-0.14432 c 0.083,0 0.14432,0.0613 0.14432,0.14432 v 4.90682 c 0,0.083 -0.0613,0.14431 -0.14432,0.14431 h -4.90682 c -0.083,0 -0.14432,-0.0613 -0.14432,-0.14431 v -4.90682 c 0,-0.083 0.0613,-0.14432 0.14432,-0.14432 z m -4.55504,0.99219 c 0,0.2742 0.22189,0.49609 0.49609,0.49609 0.27421,0 0.4961,-0.22189 0.4961,-0.49609 0,-0.27421 -0.22189,-0.4961 -0.4961,-0.4961 -0.2742,0 -0.49609,0.22189 -0.49609,0.4961 z m 2.30007,1.26278 h -0.018 v -0.37883 h -0.81179 v 2.74204 h 0.84787 v -1.35298 c 0,-0.35719 0.0703,-0.70355 0.51413,-0.70355 0.43657,0 0.44198,0.40409 0.44198,0.72159 v 1.33494 h 0.84787 v -1.50632 c 0,-0.73783 -0.15695,-1.29886 -1.01925,-1.29886 -0.41492,0 -0.68912,0.2273 -0.80277,0.44197 z m -2.21889,2.36321 h 0.85689 v -2.74204 h -0.85689 z"
       id="path1321"
       style="stroke-width:0.0180398;fill:#ffffff" />
  </g>
</svg>
&nbsp;
                LinkedIn
            </a>
        </li>
        &nbsp;

        <li>
            <a href="https://github.com/dnth/" target="_blank" rel="noopener" aria-label="Follow on GitHub"
                class="share-btn github">
                <svg width="24" height="24" viewBox="0 0 256 250" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid">
    <g>
        <path d="M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z" fill="#FFFFFF"></path>
    </g>
</svg>&nbsp;
                GitHub
            </a>
        </li>
        &nbsp;
        <hr>
        <h5>🔄 Share this post</h5>
        
        
        <li>
            <a href="https://twitter.com/intent/tweet?&amp;url=http%3a%2f%2flocalhost%3a1313%2fportfolio%2fhow_to_10x_your_od_model_and_deploy_50fps_cpu%2f&amp;text=Faster%20than%20GPU%3a%20How%20to%2010x%20your%20Object%20Detection%20Model%20and%20Deploy%20on%20CPU%20at%2050%2b%20FPS @dicksonneoh7"
                target="_blank" rel="noopener" aria-label="Share on Twitter" class="share-btn x">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
  <path fill="#ffffff" d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
</svg>&nbsp;
                Twitter
            </a>
        </li>
         &nbsp;

        
        
        <li>
            <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fportfolio%2fhow_to_10x_your_od_model_and_deploy_50fps_cpu%2f&amp;source=http%3a%2f%2flocalhost%3a1313%2fportfolio%2fhow_to_10x_your_od_model_and_deploy_50fps_cpu%2f&amp;title=Faster%20than%20GPU%3a%20How%20to%2010x%20your%20Object%20Detection%20Model%20and%20Deploy%20on%20CPU%20at%2050%2b%20FPS&amp;summary=Faster%20than%20GPU%3a%20How%20to%2010x%20your%20Object%20Detection%20Model%20and%20Deploy%20on%20CPU%20at%2050%2b%20FPS"
                target="_blank" rel="noopener" aria-label="Share on LinkedIn" class="share-btn linkedin">
                <svg
   width="6.3499999mm"
   height="6.3499999mm"
   viewBox="0 0 6.3499999 6.3499999"
   version="1.1"
   id="svg5"
   inkscape:version="1.1.2 (b8e25be833, 2022-02-05)"
   sodipodi:docname="linkedin_white.svg"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview7"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:document-units="mm"
     showgrid="false"
     inkscape:zoom="5.701459"
     inkscape:cx="-6.2264764"
     inkscape:cy="40.603642"
     inkscape:window-width="1920"
     inkscape:window-height="972"
     inkscape:window-x="1920"
     inkscape:window-y="1107"
     inkscape:window-maximized="1"
     inkscape:current-layer="layer1" />
  <defs
     id="defs2" />
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-129.66672,-101.87176)">
    <path
       d="m 129.66672,102.59335 v 4.90682 c 0,0.39507 0.32652,0.72159 0.72159,0.72159 h 4.90682 c 0.39507,0 0.72159,-0.32652 0.72159,-0.72159 v -4.90682 c 0,-0.39507 -0.32652,-0.72159 -0.72159,-0.72159 h -4.90682 c -0.39507,0 -0.72159,0.32652 -0.72159,0.72159 z m 5.62841,-0.14432 c 0.083,0 0.14432,0.0613 0.14432,0.14432 v 4.90682 c 0,0.083 -0.0613,0.14431 -0.14432,0.14431 h -4.90682 c -0.083,0 -0.14432,-0.0613 -0.14432,-0.14431 v -4.90682 c 0,-0.083 0.0613,-0.14432 0.14432,-0.14432 z m -4.55504,0.99219 c 0,0.2742 0.22189,0.49609 0.49609,0.49609 0.27421,0 0.4961,-0.22189 0.4961,-0.49609 0,-0.27421 -0.22189,-0.4961 -0.4961,-0.4961 -0.2742,0 -0.49609,0.22189 -0.49609,0.4961 z m 2.30007,1.26278 h -0.018 v -0.37883 h -0.81179 v 2.74204 h 0.84787 v -1.35298 c 0,-0.35719 0.0703,-0.70355 0.51413,-0.70355 0.43657,0 0.44198,0.40409 0.44198,0.72159 v 1.33494 h 0.84787 v -1.50632 c 0,-0.73783 -0.15695,-1.29886 -1.01925,-1.29886 -0.41492,0 -0.68912,0.2273 -0.80277,0.44197 z m -2.21889,2.36321 h 0.85689 v -2.74204 h -0.85689 z"
       id="path1321"
       style="stroke-width:0.0180398;fill:#ffffff" />
  </g>
</svg>
&nbsp;
                LinkedIn
            </a>
        </li>
         &nbsp;

        
        
        <li>
            <a href="https://www.facebook.com/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fportfolio%2fhow_to_10x_your_od_model_and_deploy_50fps_cpu%2f" target="_blank" rel="noopener"
                aria-label="Share on Facebook" class="share-btn facebook">
                <svg
   width="6.3499999mm"
   height="6.3499999mm"
   viewBox="0 0 6.3499999 6.3499999"
   version="1.1"
   id="svg5"
   inkscape:version="1.1.2 (b8e25be833, 2022-02-05)"
   sodipodi:docname="facebook_white.svg"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview7"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:document-units="mm"
     showgrid="false"
     inkscape:zoom="5.701459"
     inkscape:cx="-7.8050197"
     inkscape:cy="32.710925"
     inkscape:window-width="1920"
     inkscape:window-height="972"
     inkscape:window-x="1920"
     inkscape:window-y="1107"
     inkscape:window-maximized="1"
     inkscape:current-layer="layer1" />
  <defs
     id="defs2" />
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-130.36281,-104.14567)">
    <path
       d="m 130.36281,104.72294 v 5.19545 c 0,0.3157 0.26158,0.57728 0.57727,0.57728 h 5.19546 c 0.3157,0 0.57727,-0.26158 0.57727,-0.57728 v -5.19545 c 0,-0.3157 -0.26157,-0.57727 -0.57727,-0.57727 h -5.19546 c -0.31569,0 -0.57727,0.26157 -0.57727,0.57727 z m 5.77273,0 v 5.19545 h -1.4973 v -1.94829 h 0.74865 l 0.10824,-0.86591 h -0.85689 v -0.55923 c 0,-0.25256 0.0631,-0.42394 0.42393,-0.42394 h 0.46904 v -0.78473 c -0.0794,-0.0108 -0.35719,-0.0271 -0.67649,-0.0271 -0.66567,0 -1.11847,0.40048 -1.11847,1.14553 v 0.64943 h -0.75767 v 0.86591 h 0.75767 v 1.94829 h -2.79617 v -5.19545 z"
       id="path1085"
       style="stroke-width:0.0180398;fill:#ffffff" />
  </g>
</svg>
&nbsp;
                Facebook
            </a>
        </li>
         &nbsp;

        <br>

        
        
        <li>
            <a href="https://telegram.me/share/url?text=Faster%20than%20GPU%3a%20How%20to%2010x%20your%20Object%20Detection%20Model%20and%20Deploy%20on%20CPU%20at%2050%2b%20FPS&amp;url=http%3a%2f%2flocalhost%3a1313%2fportfolio%2fhow_to_10x_your_od_model_and_deploy_50fps_cpu%2f" target="_blank"
                rel="noopener" aria-label="Share on Telegram" class="share-btn telegram">
                <svg width="7.3503098mm"
   height="7.1592798mm" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 189.473 189.473" style="enable-background:new 0 0 189.473 189.473;" xml:space="preserve">
<g>
	<path d="M152.531,179.476c-1.48,0-2.95-0.438-4.211-1.293l-47.641-32.316l-25.552,18.386c-2.004,1.441-4.587,1.804-6.914,0.972
		c-2.324-0.834-4.089-2.759-4.719-5.146l-12.83-48.622L4.821,93.928c-2.886-1.104-4.8-3.865-4.821-6.955
		c-0.021-3.09,1.855-5.877,4.727-7.02l174.312-69.36c0.791-0.336,1.628-0.53,2.472-0.582c0.302-0.018,0.605-0.018,0.906-0.001
		c1.748,0.104,3.465,0.816,4.805,2.13c0.139,0.136,0.271,0.275,0.396,0.42c1.11,1.268,1.72,2.814,1.835,4.389
		c0.028,0.396,0.026,0.797-0.009,1.198c-0.024,0.286-0.065,0.571-0.123,0.854L159.898,173.38c-0.473,2.48-2.161,4.556-4.493,5.523
		C154.48,179.287,153.503,179.476,152.531,179.476z M104.862,130.579l42.437,28.785L170.193,39.24l-82.687,79.566l17.156,11.638
		C104.731,130.487,104.797,130.533,104.862,130.579z M69.535,124.178l5.682,21.53l12.242-8.809l-16.03-10.874
		C70.684,125.521,70.046,124.893,69.535,124.178z M28.136,86.782l31.478,12.035c2.255,0.862,3.957,2.758,4.573,5.092l3.992,15.129
		c0.183-1.745,0.974-3.387,2.259-4.624L149.227,38.6L28.136,86.782z"
		id="path1039"
       style="fill:#ffffff;stroke-width:0.0165365"/>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
</svg>
&nbsp;
                Telegram
            </a>
        </li>
         &nbsp;

        
        
        <li>
            <a href="whatsapp://send?text=Faster%20than%20GPU%3a%20How%20to%2010x%20your%20Object%20Detection%20Model%20and%20Deploy%20on%20CPU%20at%2050%2b%20FPS%2c%20by%20Dickson%20Neoh%20-%20Personal%20Portfolio%0aLearn%20how%20to%2010x%20your%20YOLOX%20model%20and%20run%20it%20faster%20than%20GPU%20in%20few%20simple%20steps%21%0a%0ahttp%3a%2f%2flocalhost%3a1313%2fportfolio%2fhow_to_10x_your_od_model_and_deploy_50fps_cpu%2f%0a" target="_blank" aria-label="Share on WhatsApp"
                class="share-btn whatsapp">
                <svg
   width="6.0324998mm"
   height="6.05896mm"
   viewBox="0 0 6.0324997 6.05896"
   version="1.1"
   id="svg5"
   inkscape:version="1.1.2 (b8e25be833, 2022-02-05)"
   sodipodi:docname="whatsapp_white.svg"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview7"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:document-units="mm"
     showgrid="false"
     inkscape:zoom="5.701459"
     inkscape:cx="4.9987205"
     inkscape:cy="35.692618"
     inkscape:window-width="1920"
     inkscape:window-height="972"
     inkscape:window-x="1920"
     inkscape:window-y="1107"
     inkscape:window-maximized="1"
     inkscape:current-layer="layer1" />
  <defs
     id="defs2" />
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-126.67735,-103.17712)">
    <path
       d="m 131.83672,104.07671 c -0.58208,-0.58209 -1.34937,-0.89959 -2.14312,-0.89959 -1.64042,0 -2.98979,1.34938 -2.98979,3.01625 0,0.52917 0.13229,1.03188 0.39687,1.48167 l -0.42333,1.56104 1.5875,-0.42333 c 0.42333,0.23812 0.92604,0.34396 1.42875,0.34396 1.66687,0 3.01625,-1.34938 3.01625,-3.01625 -0.0265,-0.74084 -0.3175,-1.50813 -0.87313,-2.06375 z m -2.14312,4.6302 c -0.44979,0 -0.87313,-0.13229 -1.27,-0.34395 l -0.10583,-0.0529 -0.92605,0.26458 0.26459,-0.89958 -0.0794,-0.13229 c -0.26458,-0.39688 -0.37041,-0.84667 -0.37041,-1.34938 0,-1.37583 1.11125,-2.48708 2.48708,-2.48708 0.66146,0 1.29646,0.26458 1.77271,0.74083 0.47625,0.47625 0.74083,1.11125 0.74083,1.77271 -0.0265,1.37583 -1.13771,2.48708 -2.51354,2.48708 z m 1.34937,-1.87854 c -0.0794,-0.0265 -0.44979,-0.23812 -0.5027,-0.26458 -0.0794,-0.0265 -0.1323,-0.0265 -0.18521,0.0265 -0.0529,0.0794 -0.21167,0.26458 -0.23813,0.29104 -0.0529,0.0529 -0.0794,0.0529 -0.15875,0.0265 -0.0794,-0.0265 -0.3175,-0.13229 -0.60854,-0.37042 -0.23812,-0.21167 -0.37042,-0.44979 -0.42333,-0.52917 -0.0529,-0.0794 0,-0.13229 0.0265,-0.15875 0.0265,-0.0264 0.0794,-0.0794 0.10583,-0.13229 0.0529,-0.0265 0.0794,-0.0794 0.10583,-0.13229 0.0265,-0.0529 0,-0.10583 0,-0.13229 0,-0.0265 -0.18521,-0.39688 -0.26458,-0.55563 -0.0265,-0.10583 -0.10583,-0.0794 -0.13229,-0.0794 h -0.15875 c 0,0 -0.10584,0.0265 -0.18521,0.0794 -0.0794,0.0794 -0.26458,0.26459 -0.26458,0.635 0,0.37042 0.26458,0.74084 0.29104,0.79375 0.0265,0.0529 0.52916,0.82021 1.29646,1.13771 0.1852,0.0794 0.3175,0.13229 0.42333,0.15875 0.18521,0.0529 0.34396,0.0529 0.47625,0.0265 0.15875,-0.0265 0.44979,-0.18521 0.50271,-0.34396 0.0529,-0.18521 0.0529,-0.3175 0.0529,-0.34396 -0.0264,-0.0794 -0.0794,-0.10583 -0.15875,-0.13229 z"
       id="path1793"
       style="stroke-width:0.264583;fill:#ffffff" />
  </g>
</svg>
&nbsp;
                WhatsApp
            </a>
        </li>
         &nbsp;

        
        
        <li>
            <a href="mailto:?subject=Dickson%20Neoh%20-%20Personal%20Portfolio - Faster%20than%20GPU%3a%20How%20to%2010x%20your%20Object%20Detection%20Model%20and%20Deploy%20on%20CPU%20at%2050%2b%20FPS.&amp;body=Faster%20than%20GPU%3a%20How%20to%2010x%20your%20Object%20Detection%20Model%20and%20Deploy%20on%20CPU%20at%2050%2b%20FPS%2c%20by%20Dickson%20Neoh%20-%20Personal%20Portfolio%0aLearn%20how%20to%2010x%20your%20YOLOX%20model%20and%20run%20it%20faster%20than%20GPU%20in%20few%20simple%20steps%21%0a%0ahttp%3a%2f%2flocalhost%3a1313%2fportfolio%2fhow_to_10x_your_od_model_and_deploy_50fps_cpu%2f%0a" target="_blank"
                class="share-btn email" aria-label="Share via Email">
                <svg
   width="6.3499999mm"
   height="4.3961601mm"
   viewBox="0 0 6.3499999 4.3961601"
   version="1.1"
   id="svg5"
   inkscape:version="1.1.2 (b8e25be833, 2022-02-05)"
   sodipodi:docname="email_white.svg"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview7"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:document-units="mm"
     showgrid="false"
     inkscape:zoom="5.701459"
     inkscape:cx="-6.7526575"
     inkscape:cy="33.4125"
     inkscape:window-width="1920"
     inkscape:window-height="972"
     inkscape:window-x="1920"
     inkscape:window-y="1107"
     inkscape:window-maximized="1"
     inkscape:current-layer="layer1" />
  <defs
     id="defs2" />
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-130.10375,-103.97942)">
    <path
       d="m 130.10375,104.22365 v 3.9077 0.24423 h 0.24423 5.86154 0.24423 v -0.24423 -3.9077 -0.24423 h -0.24423 -5.86154 -0.24423 z m 5.29675,0.24423 -2.12175,1.41196 -2.12175,-1.41196 z m -2.25913,1.91569 0.13738,0.0839 0.13738,-0.0839 2.54916,-1.70198 v 3.20553 h -5.37308 v -3.20553 z"
       id="path824"
       style="stroke-width:0.0152644;fill:#ffffff" />
  </g>
</svg>
&nbsp;
                Email
            </a>
        </li>
        <hr>

        
        <section>
            <h5>❤️ Show some love</h5>
            <p>
                Creating free ML contents doesn't pay my bills. Support me in creating more free contents like these. 
                Consider buying me a coffee. Your support means a lot to me.
            </p>
            <div style="text-align:center">
                <a href="https://www.buymeacoffee.com/dicksonneoh" target="_blank"><img
                        src="https://cdn.buymeacoffee.com/buttons/v2/default-blue.png" alt="Buy Me A Coffee"
                        style="height: 60px !important;width: 217px !important;"></a>
            </div>
        </section>
        <hr>
    </ul>
</section>

        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-10 offset-lg-1">
        <nav class="case-details-nav d-flex justify-content-between align-items-start">
          
            <div class="previous">
              <div class="d-flex align-items-center mb-3">
                <div class="icon mr-3">
                  <svg xmlns="http://www.w3.org/2000/svg" width="15.556" height="28.285" viewBox="0 0 15.556 28.285">
                    <g data-name="Group 1243" fill="#2d2d2d">
                      <path data-name="Path 1456" d="M3.391 12.728l9.75 14.142-.982 1.414-9.742-14.142z" />
                      <path data-name="Path 1455" d="M13.137 1.41L3.39 15.558l-.975-1.415L12.166 0z" />
                    </g>
                  </svg>
                </div>
                <span class="small">Prev blog</span>
              </div>
              <div class="blog-nav-item">
                <div class="blog-nav-thumb">
                  <a href="http://localhost:1313/portfolio/how_to_deploy_od_models_on_android_with_flutter/">
                    <img src="http://localhost:1313/images/portfolio/how_to_deploy_od_models_on_android_with_flutter/thumbnail.gif" alt="post-image">
                  </a>
                </div>
                <h5 class="title"><a class="text-dark" href="http://localhost:1313/portfolio/how_to_deploy_od_models_on_android_with_flutter/">How to Deploy Object Detection Models on Android with Flutter</a></h5>
              </div>
            </div>
          
          
            <div class="next">
              <div class="d-flex align-items-center justify-content-end mb-3">
                <span class="small">Next blog</span>
                <div class="icon ml-3">
                  <svg xmlns="http://www.w3.org/2000/svg" width="15.556" height="28.285" viewBox="0 0 15.556 28.285">
                    <g data-name="Group 1244" fill="#2d2d2d">
                      <path data-name="Path 1456" d="M12.162 12.725L2.416 26.87l.978 1.41 9.746-14.138z" />
                      <path data-name="Path 1455" d="M2.416 1.415l9.743 14.141.975-1.414L3.39 0z" />
                    </g>
                  </svg>
                </div>
              </div>
              <div class="blog-nav-item">
                <div class="blog-nav-thumb">
                  <a href="http://localhost:1313/portfolio/comparing_yolox_models_weights_and_biases/">
                    <img src="http://localhost:1313/images/portfolio/comparing_yolox_models_with_weights_and_biases/thumbnail.gif" alt="post-image">
                  </a>
                </div>
                <h5 class="title"><a class="text-dark" href="http://localhost:1313/portfolio/comparing_yolox_models_weights_and_biases/">Squeezing the Best Performance Out of YOLOX with Weights and Biases</a></h5>
              </div>
            </div>
          
        </nav>
      </div>
    </div>
  </div>
</section>


  </div>
  <section class="footer" id="contact">
	<div class="footer__background_shape">
		<svg viewBox="0 0 1920 79">
			<path d="M0 0h1920v79L0 0z" data-name="Path 1450" />
		</svg>
	</div>
	<div class="container">
		<div class="row">
			<div class="col-lg-12">
				<div class="footer__cta">
					<div class="shape-1">
						<svg xmlns="http://www.w3.org/2000/svg" width="357" height="315.029" viewBox="0 0 357 315.029">
							<path data-name="Path 1449"
								d="M76.1-157.222C91.746-135.8 87.2-94.273 99.993-61.945c12.7 32.328 42.661 55.459 39.248 73.282-3.318 17.823-40.007 30.337-65.6 43.325-25.5 12.988-39.912 26.545-60.01 42.566-20.1 16.116-46.074 34.6-63.328 27.682-17.349-6.921-25.976-39.153-59.915-59.82s-93.1-29.768-105.325-51.478 22.373-56.028 43.609-93.949c21.331-37.921 29.2-79.35 53.563-96.793 24.459-17.444 65.414-10.9 103.9-6.921 38.396 3.982 74.326 5.404 89.965 26.829z"
								transform="translate(217.489 188.626)" />
						</svg>
					</div>
					<div class="shape-2">
						<svg xmlns="http://www.w3.org/2000/svg" width="357" height="315.029" viewBox="0 0 357 315.029">
							<path data-name="Path 1449"
								d="M76.1-157.222C91.746-135.8 87.2-94.273 99.993-61.945c12.7 32.328 42.661 55.459 39.248 73.282-3.318 17.823-40.007 30.337-65.6 43.325-25.5 12.988-39.912 26.545-60.01 42.566-20.1 16.116-46.074 34.6-63.328 27.682-17.349-6.921-25.976-39.153-59.915-59.82s-93.1-29.768-105.325-51.478 22.373-56.028 43.609-93.949c21.331-37.921 29.2-79.35 53.563-96.793 24.459-17.444 65.414-10.9 103.9-6.921 38.396 3.982 74.326 5.404 89.965 26.829z"
								transform="translate(217.489 188.626)" />
						</svg>
					</div>
					<div class="text-light footer__cta_content">
						<span>Contact me</span>
						<h2 class="mb-0 mb-3">Let’s Start a Project</h2>
					</div>
					<div class="footer__cta_action">
						
					</div>
					<a href="https://api.whatsapp.com/send?phone=60133250827" rel="noopener" target="_blank" class="btn btn-light btn-zoom mr-3 mb-3 fa fa-whatsapp my-float">&nbsp&nbspChat on WhatsApp</a>
					<a href="https://t.me/dicksonneoh" rel="noopener" target="_blank" class="btn btn-light btn-zoom mr-3 mb-3 fa fa-telegram my-float">&nbsp&nbspChat on Telegram</a>
					<a class="btn btn-light btn-zoom mb-3 fa fa-envelope" href="http://localhost:1313/contact">&nbsp&nbspSend me a message</a>
				</div>
			</div>
		</div>
		<div class="row footer__widget">
			<div class="col-lg-4">
				<div class="footer__widget_logo mb-5">
					<img src="http://localhost:1313/images/site-navigation/logo_dn_resize.png" alt="widget-logo">
				</div>
			</div>
			<div class="col-lg-4">
				<div class="text-light footer__widget_sitemap mb-5">
					<h4 class="base-font">Sitemap</h4>
					<ul class="unstyle-list small">
						
						
						<li class="mb-2"><a class="text-light" href="http://localhost:1313/#about">About me</a></li>
						
						<li class="mb-2"><a class="text-light" href="http://localhost:1313/">Frequently Ask Question</a></li>
						
						<li class="mb-2"><a class="text-light" href="http://localhost:1313/">Privacy &amp; Policy</a></li>
						
						<li class="mb-2"><a class="text-light" href="http://localhost:1313/#portfolio">Latest Article</a></li>
						
					</ul>
				</div>
			</div>
			<div class="col-lg-4">
				<div class="text-light footer__widget_address mb-5">
					<h4 class="base-font">Address</h4>
					
					<ul class="fa-ul small">
						<li class="mb-2"><a class="text-light" href="tel:&#43;%2860%29%203%208921%202020"><span class="fa-li"><i
										class="fa fa-phone"></i></span>&#43;(60) 3 8921 2020</a></li>
						<li class="mb-2"><a class="text-light" href="mailto:dickson.neoh@gmail.com"><span class="fa-li"><i
										class="fa fa-envelope"></i></span>dickson.neoh@gmail.com</a></li>
						<li class="mb-2">
							<span class="fa-li"><i class="fa fa-map-marker"></i></span>Kuala Lumpur, Malaysia.</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<div class="row footer__footer">
			<div class="col-lg-6">
				<div class="footer__footer_copy text-light">
					<p>All right reserved copyright © Dickson Neoh 2024</p>
				</div>
			</div>
			<div class="col-lg-6">
				<div class="footer__footer_social">
					<ul class="unstyle-list">
						
						
						<li class="d-inline-block mx-2"><a class="text-light" target="_blank" href="https://www.linkedin.com/in/dickson-neoh/"><i
									class="fa fa-linkedin-square"></i></a>
						</li>
						
						<li class="d-inline-block mx-2"><a class="text-light" target="_blank" href="https://twitter.com/dicksonneoh7"><i
									class="fa fa-twitter-square"></i></a>
						</li>
						
						<li class="d-inline-block mx-2"><a class="text-light" target="_blank" href="https://github.com/dnth"><i
									class="fa fa-github-square"></i></a>
						</li>
						
					</ul>
				</div>
			</div>
		</div>
	</div>
</section>
<script src="https://maps.googleapis.com/maps/api/js?key=YOUR%20GOOGLE%20MAP%20API&libraries=geometry"></script>
<script src="http://localhost:1313/plugins/jQuery/jquery.min.js"></script>
<script src="http://localhost:1313/plugins/bootstrap/bootstrap.min.js"></script>
<script src="http://localhost:1313/plugins/slick/slick.min.js"></script>
<script src="http://localhost:1313/plugins/waypoint/jquery.waypoints.min.js"></script>
<script src="http://localhost:1313/plugins/magnafic-popup/jquery.magnific-popup.min.js"></script>
<script src="http://localhost:1313/plugins/tweenmax/TweenMax.min.js"></script>
<script src="http://localhost:1313/plugins/imagesloaded/imagesloaded.min.js"></script>
<script src="http://localhost:1313/plugins/masonry/masonry.min.js"></script>

<script src="http://localhost:1313/js/form-handler.min.js"></script>

<script src="http://localhost:1313/js/script.min.js"></script>

</body>

</html>